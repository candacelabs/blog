# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Architecture Overview

This is a containerized Hugo static site generator setup designed to be plug-and-playable into any Docker Compose environment. The repository contains:

- **Dockerfile**: Ubuntu-based Hugo server with user permission hardening (runs as user 1000:1000)
- **bloghome/**: Hugo site structure with standard directories (content, themes, layouts, etc.)
- **docker-compose.blog.example.yaml**: Template for Docker Compose integration

The architecture uses volume mounts to keep Hugo site files synchronized between host and container, avoiding the need to track autogenerated content in git.

## Common Commands

### Docker Operations
- Build and start the blog: `docker compose up blog -d`
- Always use `docker compose` (NOT `docker-compose`)
- Stop the blog: `docker compose down blog`
- Rebuild after changes: `docker compose build blog`

### Hugo Development
- The Hugo server runs inside the container on port 1313
- Server is configured to bind to 0.0.0.0 and run in production mode
- Content changes are reflected via volume mounts without container restart

### Setup Process
1. Copy example compose file: `cp docker-compose.blog.example.yaml docker-compose.blog.yaml`
2. Modify network names and ports as needed in the copied file
3. Add `include: - docker-compose.blog.yaml` to main docker-compose.yml
4. Run `docker compose up blog -d`

## Key Configuration

- Hugo version is configurable via build arg (default: 0.148.0)
- Container runs with user 1000:1000 for security
- All Hugo site directories are volume-mounted for live editing
- Server binds to all interfaces (0.0.0.0:1313) for container accessibility