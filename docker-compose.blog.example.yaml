services:
  blog:
    build:
      context: ./blog
      args:
        HUGO_VERSION: 0.148.0 # e.g. 0.115.0
    volumes:
    # Just avoids having to track autogenerated content in git
      - ./blog/candacelanding/content:/srv/content
      - ./blog/candacelanding/archetypes:/srv/archetypes
      - ./blog/candacelanding/assets:/srv/assets
      - ./blog/candacelanding/data:/srv/data
      - ./blog/candacelanding/i18n:/srv/i18n
      - ./blog/candacelanding/layouts:/srv/layouts
      - ./blog/candacelanding/static:/srv/static
      - ./blog/candacelanding/themes:/srv/themes
      - ./blog/candacelanding/hugo.toml:/srv/hugo.toml
      - ./blog/candacelanding/config.yaml:/srv/config.yaml
    ports:
      - "1313:1313"
    networks:
      - internal